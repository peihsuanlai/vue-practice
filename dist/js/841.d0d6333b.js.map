{"version":3,"file":"js/841.d0d6333b.js","mappings":"mMACSA,MAAM,kB,GAEEA,MAAM,Y,GACPC,EAAAA,EAAAA,GAAgD,MAA5CD,MAAM,8BAA6B,QAAI,G,GACrCA,MAAM,Q,GACRC,EAAAA,EAAAA,GAA6D,SAAtDC,IAAI,aAAaF,MAAM,WAAU,iBAAa,G,GAWpDA,MAAM,Q,GACPC,EAAAA,EAAAA,GAA2D,SAApDC,IAAI,gBAAgBF,MAAM,WAAU,YAAQ,G,GAUnDC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,iBAAe,EACtBC,EAAAA,EAAAA,GAA0E,UAAlED,MAAM,mCAAmCG,KAAK,UAAS,QAAE,G,0CA5BrFC,EAAAA,EAAAA,IAgCc,MAhCdC,EAgCc,EA/BVJ,EAAAA,EAAAA,GA8BW,QA9BLD,MAAM,6BAA8BM,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAC,QAAAD,EAAAC,UAAAF,IAAM,e,EAC5DR,EAAAA,EAAAA,GA4BU,MA5BVW,EA4BU,CA3BNC,GACCZ,EAAAA,EAAAA,GAWK,MAXLa,EAWK,CAVFC,GAA6D,SAC7Dd,EAAAA,EAAAA,GAQE,SAPFE,KAAK,QACLa,GAAG,aACHhB,MAAM,eACNiB,YAAY,gBACZC,SAAA,GACAC,UAAA,G,qCACSC,EAAAC,KAAKC,SAAQC,I,iBAAbH,EAAAC,KAAKC,eAGlBrB,EAAAA,EAAAA,GAUU,MAVVuB,EAUU,CATNC,GAA2D,SAC3DxB,EAAAA,EAAAA,GAOI,SANHE,KAAK,WACLa,GAAG,gBACHhB,MAAM,eACNiB,YAAY,WACZC,SAAA,G,qCACSE,EAAAC,KAAKK,SAAQH,I,iBAAbH,EAAAC,KAAKK,cAGfC,KAEM,K,aAM1B,GACEC,IAAAA,GACE,MAAO,CACLP,KAAM,CACJC,SAAU,GACVI,SAAU,IAGhB,EACAG,QAAS,CACPlB,MAAAA,GACEmB,QAAQC,IAAI,SACZ,MAAMC,EAAO,oDACbC,KAAKC,WAAY,EAEjBD,KAAKE,MAAMC,KAAKJ,EAAKC,KAAKZ,MAAMgB,MAAMC,IAGpC,GAFAL,KAAKC,WAAY,EAEbI,EAAIV,KAAKW,QAAS,CAEpB,MAAM,MAAEC,EAAK,QAAEC,GAAYH,EAAIV,KAE/Bc,SAASC,OAAU,eAAcH,gBAAoB,IAAII,KAAKH,KAC9DR,KAAKY,QAAQC,KAAK,sBACpB,IAEJ,I,QCzDJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vue-project/./src/views/LoginView.vue","webpack://vue-project/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n        <form class=\"row justify-content-center\" @submit.prevent=\"signIn\">\r\n            <div class=\"col-md-6\">\r\n                <h1 class=\"h3 mb-3 font-weight-normal\">請先登入</h1>\r\n                 <div class=\"mb-2\">\r\n                    <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\r\n                    <input\r\n                    type=\"email\"\r\n                    id=\"inputEmail\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Email address\"\r\n                    required\r\n                    autofocus\r\n                    v-model=\"user.username\"\r\n                    />\r\n                </div>\r\n                <div class=\"mb-2\">\r\n                    <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n                    <input\r\n                     type=\"password\"\r\n                     id=\"inputPassword\"\r\n                     class=\"form-control\"\r\n                     placeholder=\"Password\"\r\n                     required\r\n                     v-model=\"user.password\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"text-end mt-4\">\r\n                        <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      user: {\r\n        username: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    signIn () {\r\n      console.log('login')\r\n      const api = `${process.env.VUE_APP_API}admin/signin`\r\n      this.isLoading = true\r\n      // $http就是axios；使用axios調用post方法(api路徑,夾帶要送的資料)\r\n      this.$http.post(api, this.user).then((res) => {\r\n        this.isLoading = false\r\n        // 如果登入成功，就轉到dashboard頁面\r\n        if (res.data.success) {\r\n          // 伺服器回傳的資料，取出必要元素製作cookie\r\n          const { token, expired } = res.data\r\n          // 在瀏覽器設置cookie(包含token和expired)；用new Date函式轉換成可讀的日期格式\r\n          document.cookie = `siteToken = ${token}; expires = ${new Date(expired)}`\r\n          this.$router.push('/dashboard/products')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=063121be\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","signIn","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","id","placeholder","required","autofocus","$data","user","username","$event","_hoisted_6","_hoisted_7","password","_hoisted_8","data","methods","console","log","api","this","isLoading","$http","post","then","res","success","token","expired","document","cookie","Date","$router","push","__exports__","render"],"sourceRoot":""}